import { GoogleGenerativeAI } from "@google/generative-ai";

  
  const apiKey = import.meta.env.VITE_GOGGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
 
  export  const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing,rating, Time t\ntravel each of the location for 3 days with each day plan with best time to visit and starting time and ending time  in JSON format."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"hotels\": [\n    {\n      \"hotelName\": \"The D Las Vegas\",\n      \"hotelAddress\": \"301 Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$50-$100 per night\",\n      \"hotelImageUrl\": \"https://www.the-d.com/sites/default/files/styles/hero_slider_desktop/public/images/hero-slider-images/the-d-hero-2.jpg\",\n      \"geoCoordinates\": \"36.1695° N, 115.1428° W\",\n      \"rating\": \"4.0 stars\",\n      \"description\": \"A budget-friendly hotel located in the heart of Fremont Street Experience, with a retro vibe and classic casino.\"\n    },\n    {\n      \"hotelName\": \"The Golden Nugget\",\n      \"hotelAddress\": \"129 E Fremont St, Las Vegas, NV 89101\",\n      \"price\": \"$70-$150 per night\",\n      \"hotelImageUrl\": \"https://www.goldennugget.com/las-vegas/images/hero-slider-images/hero-slider-4.jpg\",\n      \"geoCoordinates\": \"36.1698° N, 115.1416° W\",\n      \"rating\": \"4.5 stars\",\n      \"description\": \"A historic hotel known for its impressive aquarium, exciting casino, and pool with a waterslide.\"\n    },\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40-$80 per night\",\n      \"hotelImageUrl\": \"https://www.circuscircus.com/content/dam/circu-circus/homepage/homepage-hero/cc-hero-desktop-1.jpg\",\n      \"geoCoordinates\": \"36.1019° N, 115.1701° W\",\n      \"rating\": \"3.5 stars\",\n      \"description\": \"A family-friendly hotel with a carnival atmosphere, featuring a midway with rides and circus acts.\"\n    },\n    {\n      \"hotelName\": \"The Orleans Hotel & Casino\",\n      \"hotelAddress\": \"4500 W Tropicana Ave, Las Vegas, NV 89103\",\n      \"price\": \"$60-$120 per night\",\n      \"hotelImageUrl\": \"https://www.orleanscasino.com/content/dam/orleanscasino/homepage/homepage-hero/orleans-hero-desktop-2.jpg\",\n      \"geoCoordinates\": \"36.0998° N, 115.1716° W\",\n      \"rating\": \"4.0 stars\",\n      \"description\": \"A spacious hotel with a variety of dining options, a large casino, and a relaxing pool area.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": 1,\n      \"bestTimeToVisit\": \"Morning\",\n      \"plan\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"A pedestrian mall with a canopy of lights and live entertainment.\",\n          \"placeImageUrl\": \"https://www.visitlasvegas.com/media/3970/fremont-street-experience-las-vegas.jpg\",\n          \"geoCoordinates\": \"36.1697° N, 115.1427° W\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"2-3 hours\"\n        },\n        {\n          \"placeName\": \"The Mob Museum\",\n          \"placeDetails\": \"Learn about the history of organized crime in Las Vegas.\",\n          \"placeImageUrl\": \"https://www.themobmuseum.org/images/uploads/photo-galleries/mob-museum/exterior-shots/the-mob-museum-exterior-2.jpg\",\n          \"geoCoordinates\": \"36.1697° N, 115.1426° W\",\n          \"ticketPricing\": \"$29.95\",\n          \"timeToTravel\": \"2-3 hours\"\n        },\n        {\n          \"placeName\": \"Neon Museum\",\n          \"placeDetails\": \"A museum featuring historic neon signs from Las Vegas.\",\n          \"placeImageUrl\": \"https://www.neonmuseum.org/media/media/uploads/photos/boneyard_2015_neon_museum_las_vegas_07.jpg\",\n          \"geoCoordinates\": \"36.1727° N, 115.1406° W\",\n          \"ticketPricing\": \"$25\",\n          \"timeToTravel\": \"1-2 hours\"\n        }\n      ]\n    },\n    {\n      \"day\": 2,\n      \"bestTimeToVisit\": \"Afternoon\",\n      \"plan\": [\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"A free attraction featuring stunning floral displays.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/content/dam/bellagio/home/conservatory-gardens/conservatory-gardens-2020-07-17.jpg\",\n          \"geoCoordinates\": \"36.1146° N, 115.1728° W\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"1-2 hours\"\n        },\n        {\n          \"placeName\": \"The Strip\",\n          \"placeDetails\": \"Explore the iconic Las Vegas Strip with its famous casinos and hotels.\",\n          \"placeImageUrl\": \"https://www.visitlasvegas.com/media/10368/las-vegas-strip.jpg\",\n          \"geoCoordinates\": \"36.1146° N, 115.1728° W\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"3-4 hours\"\n        },\n        {\n          \"placeName\": \"Fountains of Bellagio\",\n          \"placeDetails\": \"A spectacular water show with music and lights.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/content/dam/bellagio/home/fountains-of-bellagio/fountains-of-bellagio-2020-05-29.jpg\",\n          \"geoCoordinates\": \"36.1145° N, 115.1730° W\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"1-2 hours\"\n        }\n      ]\n    },\n    {\n      \"day\": 3,\n      \"bestTimeToVisit\": \"Evening\",\n      \"plan\": [\n        {\n          \"placeName\": \"Hoover Dam\",\n          \"placeDetails\": \"A massive dam on the Colorado River, a short drive from Las Vegas.\",\n          \"placeImageUrl\": \"https://www.nps.gov/hdam/learn/photosmultimedia/media/20140918_HooverDam.jpg\",\n          \"geoCoordinates\": \"36.0000° N, 114.9333° W\",\n          \"ticketPricing\": \"$30\",\n          \"timeToTravel\": \"4-5 hours\"\n        },\n        {\n          \"placeName\": \"Red Rock Canyon National Conservation Area\",\n          \"placeDetails\": \"A scenic area with hiking trails and rock formations.\",\n          \"placeImageUrl\": \"https://www.nps.gov/redr/learn/photosmultimedia/media/redrockcanyon_01_15_03_15_119697.jpg\",\n          \"geoCoordinates\": \"36.1545° N, 115.2545° W\",\n          \"ticketPricing\": \"$15\",\n          \"timeToTravel\": \"2-3 hours\"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Explanation:**\n\n* **Hotels:** This section provides a list of budget-friendly hotels in Las Vegas, with information on their names, addresses, prices, image URLs, geographic coordinates, ratings, and descriptions.\n* **Itinerary:** This section outlines a 3-day itinerary for a couple visiting Las Vegas on a budget. Each day includes the best time to visit, along with a list of attractions, their details, image URLs, geographic coordinates, ticket prices, and estimated time to spend at each location.\n\n**Important Note:** Prices are subject to change, so it's always best to check the latest rates on the respective websites. \n\nThis itinerary provides a basic framework, and you can customize it to suit your interests and preferences. For example, you can add more attractions, adjust the time allocated to each place, or incorporate different activities like shopping or dining. \n"},
          ],
        },
      ],
    });
  
